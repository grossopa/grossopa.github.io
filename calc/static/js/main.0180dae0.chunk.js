(this.webpackJsonpcalgen=this.webpackJsonpcalgen||[]).push([[0],{31:function(e,t,n){},38:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(14),i=n.n(s),u=(n(31),"UPDATE_SETTINGS"),o="GENERATE_QUESTIONS",l=n(9),j=n(15),h=function(){function e(t){Object(l.a)(this,e),this.children=[],this.answer=t}return Object(j.a)(e,[{key:"unshift",value:function(e){this.children.unshift(e)}},{key:"toDisplayString",value:function(e){var t="___",n=-1;e&&(n=parseInt(Math.floor(Math.random()*(this.children.length+2))));var c=[];c.push(0===n?t:this.children[0].left);for(var r=0;r<this.children.length;r++){var a=this.children[r];c.push(a.operator.value),c.push(n===r+1?t:a.right)}return c.push("="),c.push(n===this.children.length+1?t:this.answer),c.join(" ")}}]),e}(),b=function e(t,n){Object(l.a)(this,e),this.value=t,this.calc=n},d=new b("+",(function(e,t){return e+t})),O=new b("-",(function(e,t){return e-t})),p=[d,O];function f(e,t){return parseInt(e+Math.floor(Math.random()*(t-e)))}function v(e){return e[f(0,e.length)]}var x=function(){function e(t,n,c,r){Object(l.a)(this,e),this.left=t,this.operator=n,this.right=c,this.answer=r}return Object(j.a)(e,[{key:"toDisplayString",value:function(){return this.toDisplayStringNoAnswer()+" = ".concat(this.answer)}},{key:"toDisplayStringNoAnswer",value:function(){return"".concat(this.left," ").concat(this.operator.value," ").concat(this.right)}}]),e}(),g=function e(){Object(l.a)(this,e),this.generateAdd=function(e,t,n){var c=f(e,t),r=f(n,c);return new x(r,d,c-r,c)},this.generateMinus=function(e,t,n){var c=f(e,t),r=f(c,n);return new x(r,O,r-c,c)}},m=function e(){var t=this;Object(l.a)(this,e),this.generator=new g,this.generate=function(e,n,c){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,a=f(e,n),s=a,i=new h(a),u=0;u<c;u++){var o,l=v(r);l===d?o=t.generator.generateAdd(s,s,e):l===O&&(o=t.generator.generateMinus(s,s,n)),i.unshift(o),s=o.left}return i}},y=function(e){return{type:u,value:e}},N=n(5),q=n(3),w=(n(38),function(e,t,n,c,r){return"?questionType=".concat(e,"&rangeMin=").concat(t,"&rangeMax=").concat(n,"&numberCount=").concat(c,"&count=").concat(r)});function M(){var e=Object(N.b)();return Object(r.useEffect)((function(){e(function(e){for(var t=e.replace("?","").split("&"),n={},c=0;c<t.length;c++){var r=t[c].split("=");r.length>1&&(n[r[0]]=parseInt(r[1]))}return{type:u,value:n}}(window.location.search))}),[]),null}var C=function(){var e=Object(N.b)(),t=Object(q.d)(),n=Object(N.c)((function(e){return e.calcReducer.questionType})),r=Object(N.c)((function(e){return e.calcReducer.rangeMin})),a=Object(N.c)((function(e){return e.calcReducer.rangeMax})),s=Object(N.c)((function(e){return e.calcReducer.numberCount})),i=Object(N.c)((function(e){return e.calcReducer.count}));return Object(c.jsxs)("section",{className:"options-cont",children:[Object(c.jsx)(M,{}),Object(c.jsx)("h1",{children:"\u5c0f\u5b66\u6570\u5b66\u8ba1\u7b97\u9898\u751f\u6210\u5668"}),Object(c.jsx)("table",{className:"options-table",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[Object(c.jsx)("label",{children:"\u9898\u578b"}),Object(c.jsxs)("select",{value:n,onChange:function(n){var c=parseInt(n.target.value);e(y({questionType:c})),t.push(w(c,r,a,s,i))},children:[Object(c.jsx)("option",{value:0,children:"\u8bf7\u9009\u62e9..."}),Object(c.jsx)("option",{value:1,children:"\u4ec5\u52a0\u6cd5"}),Object(c.jsx)("option",{value:16,children:"\u4ec5\u51cf\u6cd5"}),Object(c.jsx)("option",{value:17,children:"\u52a0\u51cf\u6cd5"})]})]}),Object(c.jsxs)("td",{children:[Object(c.jsx)("label",{children:"\u6570\u5b57\u4e2a\u6570"}),Object(c.jsxs)("select",{value:s,onChange:function(c){var s=parseInt(c.target.value);e(y({numberCount:s})),t.push(w(n,r,a,s,i))},children:[Object(c.jsx)("option",{value:2,children:"2 (a + b = z)"}),Object(c.jsx)("option",{value:3,children:"3 (a + b + c = z)"}),Object(c.jsx)("option",{value:4,children:"4 (a + b + c + d = z)"}),Object(c.jsx)("option",{value:5,children:"5 (a + b + c + d + e = z)"})]})]})]}),Object(c.jsxs)("tr",{children:[Object(c.jsxs)("td",{children:[Object(c.jsx)("label",{children:"\u6570\u503c\u8303\u56f4"}),Object(c.jsx)("input",{type:"number",min:-1e5,max:a-1,value:r,onChange:function(c){var r=parseInt(c.target.value);e(y({rangeMin:r})),t.push(w(n,r,a,s,i))}}),Object(c.jsx)("span",{children:"~"}),Object(c.jsx)("input",{type:"number",min:r,max:1e5,value:a,onChange:function(c){var a=parseInt(c.target.value);e(y({rangeMax:a})),t.push(w(n,r,a,s,i))}})]}),Object(c.jsxs)("td",{children:[Object(c.jsx)("label",{children:"\u9898\u76ee\u6570\u91cf"}),Object(c.jsx)("input",{type:"text",min:0,max:2e3,onChange:function(c){var i=parseInt(c.target.value);e(y({count:i})),t.push(w(n,r,a,s,i))},value:i})]})]})]})}),Object(c.jsx)("button",{className:"gen-button",onClick:function(){return e(function(e,t,n,c,r){var a=[];0!==(1&e)&&a.push(d),0!==(16&e)&&a.push(O);for(var s=new m,i=[],u=0;u<r;u++){var l=parseInt(u/3);u%3===0&&(i[l]=[]),i[l].push(s.generate(t,n,c-1,a).toDisplayString(!0))}return{type:o,questions:i}}(n,r,a,s,i))},children:"\u751f\u6210"})]})};n(42);var I=function(){var e=Object(N.c)((function(e){return e.calcReducer.count}));return Object(c.jsxs)("section",{className:"question-title-cont",children:[Object(c.jsxs)("h2",{children:["\u5c0f\u5b66\u6570\u5b66\u8ba1\u7b97\u9898\xa0\xa0(\u5171",e,"\u9898\uff09"]}),Object(c.jsxs)("h3",{children:["\u73ed\u7ea7\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"}),"\u59d3\u540d\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"}),"\u5b66\u53f7\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"})]})]})};n(43);var S=function(){var e=Object(N.c)((function(e){return e.calcReducer.questions}));return Object(c.jsx)("section",{className:"question-cont",children:Object(c.jsx)("table",{className:"question-table",children:Object(c.jsx)("tbody",{children:e&&e.map((function(e){return Object(c.jsxs)("tr",{className:"question-table-tr",children:[Object(c.jsx)("td",{className:"question-table-td",children:e[0]}),Object(c.jsx)("td",{className:"question-table-td",children:e[1]}),Object(c.jsx)("td",{className:"question-table-td",children:e[2]})]},e[0]+e[1]+e[2])}))})})})},T=n(19),R=n(10),k=n(25),E=(n(44),n(13)),A=Object(R.c)({calcReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{questionType:1,rangeMin:0,rangeMax:20,numberCount:2,count:50},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:e=Object(E.a)(Object(E.a)({},e),t.value);break;case o:e=Object(E.a)(Object(E.a)({},e),{},{questions:t.questions})}return e}}),D=Object(k.createLogger)({}),_=Object(R.d)(A,Object(R.a)(D));var z=function(){return Object(c.jsx)(T.a,{children:Object(c.jsx)(N.a,{store:_,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(C,{}),Object(c.jsx)(I,{}),Object(c.jsx)(S,{})]})})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(z,{})}),document.getElementById("root")),F()}},[[45,1,2]]]);
//# sourceMappingURL=main.0180dae0.chunk.js.map