(this.webpackJsonpcalgen=this.webpackJsonpcalgen||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(0),r=n.n(a),i=n(11),s=n.n(i),o=(n(89),n(156)),u=n(155),l=n(114),b=n(9),j="UPDATE_SETTINGS",h="GENERATE_QUESTIONS",d=n(35),O=Object(d.c)({calcReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{questionType:1,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:2,brackets:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:e=Object(b.a)(Object(b.a)({},e),t.value);break;case h:e=Object(b.a)(Object(b.a)({},e),{},{questions:t.questions})}return e}}),g=n(144),f=n(112),p=n(148),x=n(160),v=n(149),m=n(158),y=n(162),k=n(159),N=n(152),M=n(157),w=n(16),q=n(19);function C(e,t){return parseInt(e+Math.floor(Math.random()*(t-e)))}function T(e){return e[C(0,e.length)]}function I(e){var t=C(0,e.length);return{selected:e[t],rest:e.slice(0,t).concat(e.slice(t+1,e.length))}}var S=function e(t,n){Object(w.a)(this,e),this.value=t,this.randomPosition=n},D=[new S(1,(function(e){return C(0,e)})),new S(2,(function(e){return e})),new S(3,(function(e){return C(0,e+1)}))],P=function(e){return D.find((function(t){return t.value===e}))},A=function(){function e(t){Object(w.a)(this,e),this.children=[],this.answer=t}return Object(q.a)(e,[{key:"unshift",value:function(e){this.children.unshift(e)}},{key:"toDisplayString",value:function(e){var t="___",n=P(e).randomPosition(this.children.length+1),c=[];c.push(0===n?t:this.children[0].left);for(var a=0;a<this.children.length;a++){var r=this.children[a];c.push(r.operator.value),c.push(n===a+1?t:r.right)}return c.push("="),c.push(n===this.children.length+1?t:this.answer),c.join("")}}]),e}(),R=function(){function e(t,n){Object(w.a)(this,e),this.value=t,this.calc=n}return Object(q.a)(e,[{key:"toString",value:function(){return"Operator [".concat(this.value,"]")}}]),e}(),E=new R("+",(function(e,t){return e+t})),_=new R("\u2212",(function(e,t){return e-t})),L=[E,_],z=function(){function e(t,n,c,a){Object(w.a)(this,e),this.left=t,this.operator=n,this.right=c,this.answer=a}return Object(q.a)(e,[{key:"toDisplayString",value:function(){return this.toDisplayStringNoAnswer()+" = ".concat(this.answer)}},{key:"toDisplayStringNoAnswer",value:function(){return"".concat(this.left," ").concat(this.operator.value," ").concat(this.right)}}]),e}(),F=function e(){Object(w.a)(this,e),this.generateAdd=function(e,t,n){var c=C(e,t),a=C(n,c);return new z(a,E,c-a,c)},this.generateMinus=function(e,t,n){var c=C(e,t),a=C(c,n);return new z(a,_,a-c,c)}},B=function e(){var t=this;Object(w.a)(this,e),this.generator=new F,this.generate=function(e,n,c){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L,r=C(e,n),i=r,s=new A(r),o=0;o<c;o++){var u,l=T(a);l===E?u=t.generator.generateAdd(i,i,e):l===_&&(u=t.generator.generateMinus(i,i,n)),s.unshift(u),i=u.left}return s}},G=function(){function e(){Object(w.a)(this,e)}return Object(q.a)(e,[{key:"getNumberCount",value:function(){var e=0;return e=this.leftNode?this.leftNode.getNumberCount():1,this.rightNode?e+=this.rightNode.getNumberCount():e+=1,e}},{key:"toDisplayString",value:function(e){var t=this.getNumberCount(),n=P(e).randomPosition(t);return this.iterToDisplayString([n+1],!0)}},{key:"iterToDisplayString",value:function(e,t){var n="",c="",a="___";this.leftNode&&this.leftNode.formula?n=this.leftNode.iterToDisplayString(e,!1):(e[0]--,n=0===e[0]?a:this.formula.left),this.rightNode&&this.rightNode.formula?c="(".concat(this.rightNode.iterToDisplayString(e,!1),")"):(e[0]--,c=0===e[0]?a:this.formula.right);var r="";return t&&(r=e[0]<=0?"=".concat(this.formula.answer):"=".concat(a)),"".concat(n).concat(this.formula.operator.value).concat(c).concat(r)}}]),e}(),J=function e(){var t=this;Object(w.a)(this,e),this.generator=new F,this.generate=function(e,n,c){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L,r=C(e,n),i=r,s=[],o=new G;s.push({node:o,child:0},{node:o,child:1});for(var u=o,l=0;l<c;l++){var b,j=T(a);j===E?b=t.generator.generateAdd(i,i,e):j===_&&(b=t.generator.generateMinus(i,i,n)),u.formula=b;var h=I(s),d=h.selected;s=h.rest;var O=new G;0===d.child?(d.node.leftNode=O,i=d.node.formula.left):(d.node.rightNode=O,i=d.node.formula.right),u=O,s.push({node:O,child:0},{node:O,child:1})}return o}},U=function(e){return{type:j,value:e}},Q=function(e,t,n,c,a,r,i){var s=[];0!==(1&e)&&s.push(E),0!==(16&e)&&s.push(_);for(var o=1===i?new J:new B,u=[],l=0;l<a;l++){var b=parseInt(l/3);l%3===0&&(u[b]=[]),u[b].push(o.generate(t,n,c-1,s).toDisplayString(r))}return{type:h,questions:u}},W=function(e){var t=e.questionType,n=e.rangeMin,c=e.rangeMax,a=e.numberCount,r=e.count,i=e.blank,s=e.brackets;return"?questionType=".concat(t,"&rangeMin=").concat(n,"&rangeMax=").concat(c,"&numberCount=").concat(a,"&count=").concat(r,"&blank=").concat(i,"&brackets=").concat(s)},H=n(18),K=n(13);n(96);function V(){var e=Object(H.b)();return Object(a.useEffect)((function(){e(function(e){for(var t=e.replace("?","").split("&"),n={},c=0;c<t.length;c++){var a=t[c].split("=");a.length>1&&(n[a[0]]=parseInt(a[1]))}return{type:j,value:n}}(window.location.search))}),[e]),null}var X=function(){var e=Object(H.b)(),t=Object(K.d)(),n=Object(H.c)((function(e){return e.calcReducer.questionType})),a=Object(H.c)((function(e){return e.calcReducer.rangeMin}));a=isNaN(a)?"":a;var r=Object(H.c)((function(e){return e.calcReducer.rangeMax}));r=isNaN(r)?"":r;var i=Object(H.c)((function(e){return e.calcReducer.numberCount})),s=Object(H.c)((function(e){return e.calcReducer.count})),o=Object(H.c)((function(e){return e.calcReducer.blank})),u=Object(H.c)((function(e){return e.calcReducer.brackets})),l={questionType:n,rangeMin:a,rangeMax:r,numberCount:i,count:s,blank:o,brackets:u},j={item:!0,xs:2,container:!0,direction:"row",justify:"flex-end"},h={item:!0,xs:4,container:!0,direction:"row",justify:"flex-start"},d=function(n){e(U(n)),t.push(W(Object(b.a)(Object(b.a)({},l),n)))};return Object(c.jsxs)(g.a,{className:"noprint",container:!0,justify:"center",children:[Object(c.jsx)(V,{}),Object(c.jsx)(f.a,{variant:"h4",component:"h1",align:"center",children:"\u5c0f\u5b66\u6570\u5b66\u8ba1\u7b97\u9898\u751f\u6210\u5668"}),Object(c.jsxs)(g.a,{container:!0,spacing:3,justify:"center",alignItems:"center",style:{width:"90%"},children:[Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},j),{},{children:Object(c.jsx)(p.a,{children:"\u9898\u578b"})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},h),{},{children:Object(c.jsxs)(x.a,{row:!0,value:n,onChange:function(e){return d({questionType:parseInt(e.target.value)})},children:[Object(c.jsx)(v.a,{value:1,control:Object(c.jsx)(m.a,{color:"primary"}),label:"\u4ec5\u52a0\u6cd5"}),Object(c.jsx)(v.a,{value:16,control:Object(c.jsx)(m.a,{color:"primary"}),label:"\u4ec5\u51cf\u6cd5"}),Object(c.jsx)(v.a,{value:17,control:Object(c.jsx)(m.a,{color:"primary"}),label:"\u52a0\u6cd5+\u51cf\u6cd5"})]})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},j),{},{children:Object(c.jsx)(p.a,{children:"\u6570\u5b57\u4e2a\u6570"})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},h),{},{children:Object(c.jsxs)(M.a,{value:i,onChange:function(e){return d({numberCount:parseInt(e.target.value)})},children:[Object(c.jsx)(y.a,{value:2,children:"2 (a + b = z)"}),Object(c.jsx)(y.a,{value:3,children:"3 (a + b + c = z)"}),Object(c.jsx)(y.a,{value:4,children:"4 (a + b + c + d = z)"}),Object(c.jsx)(y.a,{value:5,children:"5 (a + b + c + d + e = z)"})]})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},j),{},{children:Object(c.jsx)(p.a,{children:"\u6570\u503c\u8303\u56f4"})})),Object(c.jsxs)(g.a,Object(b.a)(Object(b.a)({},h),{},{children:[Object(c.jsx)(k.a,{type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},style:{width:50},min:-1e5,max:r-1,value:a,onChange:function(e){return d({rangeMin:parseInt(e.target.value)})}}),Object(c.jsx)("span",{className:"calc-range-char",children:"~"}),Object(c.jsx)(k.a,{type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},style:{width:50},min:a,max:1e5,value:r,onChange:function(e){return d({rangeMax:parseInt(e.target.value)})}})]})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},j),{},{children:Object(c.jsx)(p.a,{children:"\u9898\u76ee\u6570\u91cf"})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},h),{},{children:Object(c.jsx)(k.a,{type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},style:{width:50},min:1,max:2e3,value:s,onChange:function(e){return d({count:Math.min(2e3,parseInt(e.target.value)||1)})}})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},j),{},{children:Object(c.jsx)(p.a,{children:"\u586b\u7a7a\u4f4d\u7f6e"})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},h),{},{children:Object(c.jsxs)(x.a,{row:!0,value:o,onChange:function(e){return d({blank:parseInt(e.target.value)})},children:[Object(c.jsx)(v.a,{value:1,control:Object(c.jsx)(m.a,{color:"primary"}),label:"\u4ec5\u53f3\u8fb9"}),Object(c.jsx)(v.a,{value:2,control:Object(c.jsx)(m.a,{color:"primary"}),label:"\u4ec5\u5de6\u8fb9"}),Object(c.jsx)(v.a,{value:3,control:Object(c.jsx)(m.a,{color:"primary"}),label:"\u4e24\u8fb9"})]})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},j),{},{children:Object(c.jsx)(p.a,{children:"\u5305\u542b\u62ec\u53f7"})})),Object(c.jsx)(g.a,Object(b.a)(Object(b.a)({},h),{},{children:Object(c.jsx)(v.a,{control:Object(c.jsx)(N.a,{color:"primary",checked:1===u,onChange:function(e){return d({brackets:e.target.checked?1:0})}})})})),Object(c.jsx)(g.a,{item:!0,xs:12,container:!0,justify:"center",children:Object(c.jsx)("button",{className:"gen-button",onClick:function(){return e(Q(n,a,r,i,s,o,u))},children:"\u751f\u6210"})})]})]})};n(101);var Y=function(){var e=Object(H.c)((function(e){return e.calcReducer.count}));return Object(c.jsxs)("section",{className:"question-title-cont",children:[Object(c.jsxs)("h2",{children:["\u5c0f\u5b66\u6570\u5b66\u8ba1\u7b97\u9898\xa0\xa0(\u5171",e,"\u9898\uff09"]}),Object(c.jsxs)("h3",{children:["\u73ed\u7ea7\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"}),"\u59d3\u540d\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"}),"\u5b66\u53f7\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"})]})]})};n(102);var Z=function(){var e=Object(H.c)((function(e){return e.calcReducer.questions}));return Object(c.jsx)("section",{className:"question-cont",children:Object(c.jsx)("table",{className:"question-table",children:Object(c.jsx)("tbody",{children:e&&e.map((function(e){return Object(c.jsxs)("tr",{className:"question-table-tr",children:[Object(c.jsx)("td",{className:"question-table-td",children:e[0]}),Object(c.jsx)("td",{className:"question-table-td",children:e[1]}),Object(c.jsx)("td",{className:"question-table-td",children:e[2]})]},e[0]+e[1]+e[2])}))})})})};n(103);var $=function(){var e=Object(H.b)(),t=Object(K.d)();return Object(c.jsx)("section",{className:"quickbar-cont noprint",children:[{label:"10\u4ee5\u5185\u52a0\u6cd5",options:{questionType:1,rangeMin:0,rangeMax:10,numberCount:2,count:50,blank:1,brackets:0}},{label:"10\u4ee5\u5185\u51cf\u6cd5",options:{questionType:16,rangeMin:0,rangeMax:10,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u52a0\u6cd5",options:{questionType:1,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u51cf\u6cd5",options:{questionType:16,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u52a0\u51cf\u6cd5",options:{questionType:17,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u52a0\u51cf\u6cd5(\u4e24\u8fb9\uff09",options:{questionType:17,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:3,brackets:0}},{label:"100\u4ee5\u5185\u52a0\u51cf\u6cd5",options:{questionType:17,rangeMin:0,rangeMax:100,numberCount:2,count:50,blank:1,brackets:0}},{label:"100\u4ee5\u5185\u52a0\u51cf\u6cd5(\u4e24\u8fb9\uff09",options:{questionType:17,rangeMin:0,rangeMax:100,numberCount:2,count:50,blank:3,brackets:0}}].map((function(n){return Object(c.jsx)("button",{className:"quickbar-btn",onClick:function(){e(U(n.options)),t.push(W(n.options)),e(Q(n.options.questionType,n.options.rangeMin,n.options.rangeMax,n.options.numberCount,n.options.count,n.options.blank,n.options.brackets))},children:n.label},n.label)}))})},ee=n(153),te=n(113),ne=n(154),ce=n(70),ae=n.n(ce);n(104);var re=function(){return Object(c.jsx)(ee.a,{position:"static",className:"noprint",children:Object(c.jsxs)(ne.a,{children:[Object(c.jsx)(te.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(c.jsx)(ae.a,{})}),Object(c.jsx)(f.a,{variant:"h6",children:"News"})]})})},ie=n(48),se=n(71),oe=(n(109),Object(se.createLogger)({})),ue=Object(d.d)(O,Object(d.a)(oe));var le=function(){return Object(c.jsx)(ie.a,{children:Object(c.jsx)(H.a,{store:ue,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(u.a,{}),Object(c.jsx)(re,{}),Object(c.jsxs)(o.a,{maxWidth:"lg",className:"main-cont",children:[Object(c.jsx)(X,{}),Object(c.jsx)($,{}),Object(c.jsxs)(l.a,{className:"question-pager",children:[Object(c.jsx)(Y,{}),Object(c.jsx)(Z,{})]})]})]})})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,163)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(le,{})}),document.getElementById("root")),be()},89:function(e,t,n){},96:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.d9e2c7c1.chunk.js.map