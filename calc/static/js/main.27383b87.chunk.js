(this.webpackJsonpcalgen=this.webpackJsonpcalgen||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),i=n(12),s=n.n(i),o=(n(91),n(160)),u=n(159),l=n(114),b=n(8),j="UPDATE_SETTINGS",h="GENERATE_QUESTIONS",O="LAYOUT_SWITCH_TAB",d="addMinus",p="multiply",g=n(38),f=Object(g.c)({calcReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{questionType:1,rangeMin:0,rangeMax:20,numberCount:2,numberDigits:[1,1],count:50,blank:2,brackets:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:if((e=Object(b.a)(Object(b.a)({},e),t.value)).numberCount!==e.numberDigits.length){for(var n=[],c=0;c<e.numberCount;c++)n.push(e.numberDigits[c]||1);e.numberDigits=n}break;case h:e=Object(b.a)(Object(b.a)({},e),{},{questions:t.questions})}return e},layoutReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{selectedTab:d},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:e=Object(b.a)(Object(b.a)({},e),{},{selectedTab:t.value})}return e}}),x=n(116),v=n(146),m=n(150),y=n(165),k=n(151),w=n(163),M=n(167),N=n(164),C=n(154),T=n(161),q=n(17),D=n(21);function S(e,t){return parseInt(e+Math.floor(Math.random()*(t-e)))}function I(e){return e[S(0,e.length)]}function A(e){var t=S(0,e.length);return{selected:e[t],rest:e.slice(0,t).concat(e.slice(t+1,e.length))}}var R=function e(t,n){Object(q.a)(this,e),this.value=t,this.randomPosition=n},P=[new R(1,(function(e){return S(0,e)})),new R(2,(function(e){return e})),new R(3,(function(e){return S(0,e+1)}))],_=function(e){return P.find((function(t){return t.value===e}))},L=function(){function e(t){Object(q.a)(this,e),this.children=[],this.answer=t}return Object(D.a)(e,[{key:"unshift",value:function(e){this.children.unshift(e)}},{key:"push",value:function(e){this.children.push(e)}},{key:"toDisplayString",value:function(e){var t="___",n=_(e).randomPosition(this.children.length+1),c=[];c.push(0===n?t:this.children[0].left);for(var a=0;a<this.children.length;a++){var r=this.children[a];c.push(r.operator.value),c.push(n===a+1?t:r.right)}return c.push("="),c.push(n===this.children.length+1?t:this.answer),c.join("")}}]),e}(),E=function(){function e(t,n,c){Object(q.a)(this,e),this.value=t,this.calc=n,this.questionType=c}return Object(D.a)(e,[{key:"toString",value:function(){return"Operator [".concat(this.value,"]")}}]),e}(),z=new E("+",(function(e,t){return e+t}),1),F=new E("\u2212",(function(e,t){return e-t}),16),W=new E("*",(function(e,t){return e*t}),256),B=[z,F],U=function(){function e(t,n,c,a){Object(q.a)(this,e),this.left=t,this.operator=n,this.right=c,this.answer=a}return Object(D.a)(e,[{key:"calculate",value:function(){return this.operator.calc(this.left,this.right)}},{key:"toDisplayString",value:function(){return this.toDisplayStringNoAnswer()+" = ".concat(this.answer)}},{key:"toDisplayStringNoAnswer",value:function(){return"".concat(this.left," ").concat(this.operator.value," ").concat(this.right)}}]),e}(),G=function e(){Object(q.a)(this,e),this.generateAdd=function(e,t,n){var c=S(e,t),a=S(n,c);return new U(a,z,c-a,c)},this.generateMinus=function(e,t,n){var c=S(e,t),a=S(c,n);return new U(a,F,a-c,c)},this.generateMultiplyWithDigits=function(e,t){var n=S(Math.pow(10,e),Math.pow(10,e+1)),c=S(Math.pow(10,t),Math.pow(10,t+1));return new U(n,W,c,n*c)}},J=function e(){var t=this;Object(q.a)(this,e),this.generator=new G,this.generate=function(e,n,c){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B,r=S(e,n),i=r,s=new L(r),o=0;o<c;o++){var u,l=I(a);l===z?u=t.generator.generateAdd(i,i,e):l===F?u=t.generator.generateMinus(i,i,n):l===W&&(u=t.generator.generateMultiplyWithDigits(e,n)),s.unshift(u),i=u.left}return s}},H=function(){function e(){Object(q.a)(this,e)}return Object(D.a)(e,[{key:"getNumberCount",value:function(){var e=0;return e=this.leftNode?this.leftNode.getNumberCount():1,this.rightNode?e+=this.rightNode.getNumberCount():e+=1,e}},{key:"toDisplayString",value:function(e){var t=this.getNumberCount(),n=_(e).randomPosition(t);return this.iterToDisplayString([n+1],!0)}},{key:"iterToDisplayString",value:function(e,t){var n="",c="",a="___";this.leftNode&&this.leftNode.formula?n=this.leftNode.iterToDisplayString(e,!1):(e[0]--,n=0===e[0]?a:this.formula.left),this.rightNode&&this.rightNode.formula?c="(".concat(this.rightNode.iterToDisplayString(e,!1),")"):(e[0]--,c=0===e[0]?a:this.formula.right);var r="";return t&&(r=e[0]<=0?"=".concat(this.formula.answer):"=".concat(a)),"".concat(n).concat(this.formula.operator.value).concat(c).concat(r)}}]),e}(),K=function e(){var t=this;Object(q.a)(this,e),this.generator=new G,this.generate=function(e,n,c){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B,r=S(e,n),i=r,s=[],o=new H;s.push({node:o,child:0},{node:o,child:1});for(var u=o,l=0;l<c;l++){var b,j=I(a);j===z?b=t.generator.generateAdd(i,i,e):j===F?b=t.generator.generateMinus(i,i,n):j===W&&(b=t.generator.generateMultiply(e,n)),u.formula=b;var h=A(s),O=h.selected;s=h.rest;var d=new H;0===O.child?(O.node.leftNode=d,i=O.node.formula.left):(O.node.rightNode=d,i=O.node.formula.right),u=d,s.push({node:d,child:0},{node:d,child:1})}return o}},Q=function e(){Object(q.a)(this,e),this.generator=new G,this.generate=function(e,t){for(var n,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B,a=new L,r=0;r<t;r++){var i,s=I(c);if(s===W){var o=0===r?S(Math.pow(10,e[r]-1),Math.pow(10,e[r])):n,u=S(Math.pow(10,e[r+1]-1),Math.pow(10,e[r+1]));i=new U(o,s,u,s.calc(o,u)),n=s.calc(o,u)}a.answer=n,a.push(i)}return a}},Y=function(e){return{type:j,value:e}},V=function(e,t,n,c,a,r,i,s){for(var o,u=function(e){return[z,F,W].filter((function(t){return 0!==(t.questionType&e)}))}(e),l=[],b=0;b<r;b++){var j=parseInt(b/3);b%3===0&&(l[j]=[]),o=0!==(256&e)?(new Q).generate(a,c-1,u).toDisplayString(i):(1===s?new K:new J).generate(t,n,c-1,u).toDisplayString(i),l[j].push(o)}return{type:h,questions:l}},X=function(e){var t=e.questionType,n=e.rangeMin,c=e.rangeMax,a=e.numberCount,r=e.count,i=e.blank,s=e.brackets;return"?questionType=".concat(t,"&rangeMin=").concat(n,"&rangeMax=").concat(c,"&numberCount=").concat(a,"&count=").concat(r,"&blank=").concat(i,"&brackets=").concat(s)},Z=n(13),$=n(16);n(98);function ee(){var e=Object(Z.b)();return Object(a.useEffect)((function(){e(function(e){for(var t=e.replace("?","").split("&"),n={},c=0;c<t.length;c++){var a=t[c].split("=");a.length>1&&(n[a[0]]=parseInt(a[1]))}return{type:j,value:n}}(window.location.search))}),[e]),null}var te=function(){var e=Object(Z.b)(),t=Object($.d)(),n=Object(Z.c)((function(e){return e.calcReducer.questionType})),a=Object(Z.c)((function(e){return e.calcReducer.rangeMin}));a=isNaN(a)?"":a;var r=Object(Z.c)((function(e){return e.calcReducer.rangeMax}));r=isNaN(r)?"":r;var i=Object(Z.c)((function(e){return e.calcReducer.numberCount})),s=Object(Z.c)((function(e){return e.calcReducer.numberDigits})),o=Object(Z.c)((function(e){return e.calcReducer.count})),u=Object(Z.c)((function(e){return e.calcReducer.blank})),j=Object(Z.c)((function(e){return e.calcReducer.brackets})),h={questionType:n,rangeMin:a,rangeMax:r,numberCount:i,numberDigits:s,count:o,blank:u,brackets:j},O={item:!0,xs:2,container:!0,direction:"row",justify:"flex-end"},d={item:!0,xs:4,container:!0,direction:"row",justify:"flex-start"},p=function(n){e(Y(n)),t.push(X(Object(b.a)(Object(b.a)({},h),n)))};return Object(c.jsxs)(v.a,{className:"noprint",container:!0,justify:"center",children:[Object(c.jsx)(ee,{}),Object(c.jsxs)(v.a,{container:!0,spacing:3,justify:"center",alignItems:"center",style:{width:"90%"},children:[Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},O),{},{children:Object(c.jsx)(m.a,{children:"\u9898\u578b"})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},d),{},{xs:10,children:Object(c.jsxs)(y.a,{row:!0,value:n,onChange:function(e){return p({questionType:parseInt(e.target.value)})},children:[Object(c.jsx)(k.a,{value:1,control:Object(c.jsx)(w.a,{color:"primary"}),label:"\u4ec5\u52a0\u6cd5"}),Object(c.jsx)(k.a,{value:16,control:Object(c.jsx)(w.a,{color:"primary"}),label:"\u4ec5\u51cf\u6cd5"}),Object(c.jsx)(k.a,{value:17,control:Object(c.jsx)(w.a,{color:"primary"}),label:"\u52a0\u6cd5+\u51cf\u6cd5"}),Object(c.jsx)(k.a,{value:256,control:Object(c.jsx)(w.a,{color:"primary"}),label:"\u4e58\u6cd5"})]})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},O),{},{children:Object(c.jsx)(m.a,{children:"\u6570\u5b57\u4e2a\u6570"})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},d),{},{children:Object(c.jsxs)(T.a,{value:i,onChange:function(e){return p({numberCount:parseInt(e.target.value)})},children:[Object(c.jsx)(M.a,{value:2,children:"2 (a + b = z)"}),Object(c.jsx)(M.a,{value:3,children:"3 (a + b + c = z)"}),Object(c.jsx)(M.a,{value:4,children:"4 (a + b + c + d = z)"}),Object(c.jsx)(M.a,{value:5,children:"5 (a + b + c + d + e = z)"})]})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},O),{},{children:Object(c.jsx)(m.a,{children:"\u9898\u76ee\u6570\u91cf"})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},d),{},{children:Object(c.jsx)(N.a,{type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},style:{width:50},min:1,max:2e3,value:o,onChange:function(e){return p({count:Math.min(2e3,parseInt(e.target.value)||1)})}})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},O),{},{children:Object(c.jsx)(m.a,{children:0===(4352&n)?"\u6570\u503c\u8303\u56f4":"\u6570\u5b57\u4f4d\u6570"})})),0===(4352&n)&&Object(c.jsxs)(v.a,Object(b.a)(Object(b.a)({},d),{},{children:[Object(c.jsx)(N.a,{type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},style:{width:50},min:-1e5,max:r-1,value:a,onChange:function(e){return p({rangeMin:parseInt(e.target.value)})}}),Object(c.jsx)("span",{className:"calc-range-char",children:"~"}),Object(c.jsx)(N.a,{type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},style:{width:50},min:a,max:1e5,value:r,onChange:function(e){return p({rangeMax:parseInt(e.target.value)})}})]})),0!==(4352&n)&&Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},d),{},{children:Array.from(Array(i),(function(e,t){return Object(c.jsxs)("span",{style:{marginLeft:20},children:[Object(c.jsx)(l.a,{children:"\u6570\u5b57".concat(t+1)}),Object(c.jsx)(N.a,{type:"number",InputLabelProps:{shrink:!0},inputProps:{style:{textAlign:"right"}},style:{width:50},min:1,max:5,value:s[t],onChange:function(e){var n=s.slice(0);n[t]=Math.min(5,parseInt(e.target.value)||1),p({numberDigits:n})}})]},"Key ".concat(t))}))})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},O),{},{children:Object(c.jsx)(m.a,{children:"\u586b\u7a7a\u4f4d\u7f6e"})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},d),{},{children:Object(c.jsxs)(y.a,{row:!0,value:u,onChange:function(e){return p({blank:parseInt(e.target.value)})},children:[Object(c.jsx)(k.a,{value:1,control:Object(c.jsx)(w.a,{color:"primary"}),label:"\u4ec5\u53f3\u8fb9"}),Object(c.jsx)(k.a,{value:2,control:Object(c.jsx)(w.a,{color:"primary"}),label:"\u4ec5\u5de6\u8fb9"}),Object(c.jsx)(k.a,{value:3,control:Object(c.jsx)(w.a,{color:"primary"}),label:"\u4e24\u8fb9"})]})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},O),{},{children:Object(c.jsx)(m.a,{children:"\u5305\u542b\u62ec\u53f7"})})),Object(c.jsx)(v.a,Object(b.a)(Object(b.a)({},d),{},{children:Object(c.jsx)(k.a,{control:Object(c.jsx)(C.a,{color:"primary",checked:1===j,onChange:function(e){return p({brackets:e.target.checked?1:0})}})})})),Object(c.jsx)(v.a,Object(b.a)({},O)),Object(c.jsx)(v.a,Object(b.a)({},d)),Object(c.jsx)(v.a,{item:!0,xs:12,container:!0,justify:"center",children:Object(c.jsx)("button",{className:"gen-button",onClick:function(){return e(V(n,a,r,i,s,o,u,j))},children:"\u751f\u6210"})})]})]})};n(103);var ne=function(){var e=Object(Z.c)((function(e){return e.calcReducer.count}));return Object(c.jsxs)("section",{className:"question-title-cont",children:[Object(c.jsxs)("h2",{children:["\u5c0f\u5b66\u6570\u5b66\u8ba1\u7b97\u9898\xa0\xa0(\u5171",e,"\u9898\uff09"]}),Object(c.jsxs)("h3",{children:["\u73ed\u7ea7\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"}),"\u59d3\u540d\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"}),"\u5b66\u53f7\uff1a",Object(c.jsx)("span",{className:"question-title-underscore"})]})]})};n(104);var ce=function(){var e=Object(Z.c)((function(e){return e.calcReducer.questions}));return Object(c.jsx)("section",{className:"question-cont",children:Object(c.jsx)("table",{className:"question-table",children:Object(c.jsx)("tbody",{children:e&&e.map((function(e){return Object(c.jsxs)("tr",{className:"question-table-tr",children:[Object(c.jsx)("td",{className:"question-table-td",children:e[0]}),Object(c.jsx)("td",{className:"question-table-td",children:e[1]}),Object(c.jsx)("td",{className:"question-table-td",children:e[2]})]},e[0]+e[1]+e[2])}))})})})};n(105);var ae=function(){var e=Object(Z.b)(),t=Object($.d)();return Object(c.jsx)("section",{className:"quickbar-cont noprint",children:[{label:"10\u4ee5\u5185\u52a0\u6cd5",options:{questionType:1,rangeMin:0,rangeMax:10,numberCount:2,count:50,blank:1,brackets:0}},{label:"10\u4ee5\u5185\u51cf\u6cd5",options:{questionType:16,rangeMin:0,rangeMax:10,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u52a0\u6cd5",options:{questionType:1,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u51cf\u6cd5",options:{questionType:16,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u52a0\u51cf\u6cd5",options:{questionType:17,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:1,brackets:0}},{label:"20\u4ee5\u5185\u52a0\u51cf\u6cd5(\u4e24\u8fb9\uff09",options:{questionType:17,rangeMin:0,rangeMax:20,numberCount:2,count:50,blank:3,brackets:0}},{label:"100\u4ee5\u5185\u52a0\u51cf\u6cd5",options:{questionType:17,rangeMin:0,rangeMax:100,numberCount:2,count:50,blank:1,brackets:0}},{label:"100\u4ee5\u5185\u52a0\u51cf\u6cd5(\u4e24\u8fb9\uff09",options:{questionType:17,rangeMin:0,rangeMax:100,numberCount:2,count:50,blank:3,brackets:0}}].map((function(n){return Object(c.jsx)("button",{className:"quickbar-btn",onClick:function(){e(Y(n.options)),t.push(X(n.options)),e(V(n.options.questionType,n.options.rangeMin,n.options.rangeMax,n.options.numberCount,n.options.numberDigits,n.options.count,n.options.blank,n.options.brackets))},children:n.label},n.label)}))})};var re=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(te,{}),Object(c.jsx)(ae,{}),Object(c.jsxs)(x.a,{className:"question-pager",children:[Object(c.jsx)(ne,{}),Object(c.jsx)(ce,{})]})]})},ie=n(23),se=n(155);var oe=function(){var e=Object(a.useState)(0),t=Object(ie.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(0),s=Object(ie.a)(i,2),o=s[0],u=s[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(se.a,{variant:"contained",color:"primary",onClick:function(){r(S(0,10)),u(S(0,10))},children:"\u4e0b\u4e00\u9898"}),Object(c.jsxs)("div",{className:"temp-123",children:[Object(c.jsx)("span",{children:n}),Object(c.jsx)("span",{children:"\xa0x\xa0"}),Object(c.jsx)("span",{children:o}),Object(c.jsx)("span",{children:"="})]})]})};var ue=function(){var e=Object(Z.c)((function(e){return e.layoutReducers.selectedTab}));return Object(c.jsxs)("section",{children:[e===d&&Object(c.jsx)(re,{}),e===p&&Object(c.jsx)(oe,{})]})},le=n(162),be=n(158),je=n(156),he=n(115),Oe=n(157),de=n(74),pe=n.n(de);n(106);var ge=function(){var e=Object(Z.b)(),t=Object(Z.c)((function(e){return e.layoutReducers.selectedTab}));return Object(c.jsx)(je.a,{position:"static",className:"noprint",children:Object(c.jsxs)(Oe.a,{children:[Object(c.jsx)(he.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(c.jsx)(pe.a,{})}),Object(c.jsxs)(le.a,{value:t,onChange:function(t,n){e({type:O,value:n})},"aria-label":"simple tabs example",children:[Object(c.jsx)(be.a,{label:"\u52a0\u51cf\u6cd5",value:d}),Object(c.jsx)(be.a,{label:"\u4e58\u6cd5",value:p})]})]})})},fe=n(50),xe=n(75),ve=(n(111),Object(xe.createLogger)({})),me=Object(g.d)(f,Object(g.a)(ve));var ye=function(){return Object(c.jsx)(fe.a,{children:Object(c.jsx)(Z.a,{store:me,children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(u.a,{}),Object(c.jsx)(ge,{}),Object(c.jsxs)(o.a,{maxWidth:"lg",className:"main-cont",children:[Object(c.jsx)(l.a,{variant:"h4",component:"h1",align:"center",children:"\u5c0f\u5b66\u6570\u5b66\u8ba1\u7b97\u9898\u751f\u6210\u5668"}),Object(c.jsx)(ue,{})]})]})})})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(ye,{})}),document.getElementById("root")),ke()},91:function(e,t,n){},98:function(e,t,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.27383b87.chunk.js.map